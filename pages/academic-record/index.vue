<template>
  <div id="academic-record">
    <el-row>
      <el-col
        :xs="24"
        :lg="{
          span: 18,
          offset: 3
        }"
      >
        <AcademicCourses />
        <DegreeCourses />
        <AcademicCourseAverages />
        <DegreeCourseAverages />
        <DegreeAverages />
      </el-col>
    </el-row>
    <el-backtop
      :visibility-height="200"
    />
  </div>
</template>

<script>

import utils from '@/utils';

import AcademicCourses from '@/components/academic-record/AcademicCourses.vue';
import DegreeCourses from '@/components/academic-record/DegreeCourses.vue';
import AcademicCourseAverages from '@/components/academic-record/averages/AcademicCourseAverages.vue';
import DegreeCourseAverages from '@/components/academic-record/averages/DegreeCourseAverages.vue';
import DegreeAverages from '@/components/academic-record/averages/DegreeAverages.vue';

export default {
  name: 'AcademicRecord',
  components: {
    AcademicCourses,
    DegreeCourses,
    AcademicCourseAverages,
    DegreeCourseAverages,
    DegreeAverages,
  },
  nuxtI18n: {
    paths: {
      es: '/expediente-academico',
    },
  },
  async fetch() {
    return this.$store.dispatch('academic-records/getRecords');
  },
  beforeDestroy() {
    this.$store.dispatch('curriculum/destroyCV');
  },
  head() {
    const metas = {
      title: 'Expediente acad√©mico de Juan Manuel L√≥pez Pazos',
      description: 'Expediente acad√©mico de Juan Manuel L√≥pez Pazos üë®‚Äçüíª Aqu√≠ encontrar√°s mi expediente acad√©mico en mis estudios del Grado en Ingenier√≠a de Software por la Universidad de Sevilla.',
      author: 'Juan Manuel L√≥pez Pazos',
      keywords: 'expediente academico, juan manuel lopez pazos, ingeniero software, programador frontend, desarrollador frontend, desarrollador vue, microfrontends, micro frontends, micro-frontends',
      canonical_url: 'http://www.juanmanuellopezpazos.es/expediente-academico',
      og_title: 'Expediente acad√©mico de Juan Manuel L√≥pez Pazos',
      og_type: 'website',
      og_image: 'http://www.juanmanuellopezpazos.es/images/yo_2018.jpg',
      og_url: 'http://www.juanmanuellopezpazos.es/expediente-academico',
      og_description: 'Expediente acad√©mico de Juan Manuel L√≥pez Pazos üë®‚Äçüíª Aqu√≠ encontrar√°s mi expediente acad√©mico en mis estudios del Grado en Ingenier√≠a de Software por la Universidad de Sevilla.',
      og_site_name: 'BLOG - JMLP',
      twitter_site: '@LopezPazos14',
      twitter_card: 'summary',
      twitter_image: 'http://www.juanmanuellopezpazos.es/images/yo_2018.jpg',
      twitter_title: 'Expediente acad√©mico de Juan Manuel L√≥pez Pazos',
      twitter_description: 'Expediente acad√©mico de Juan Manuel L√≥pez Pazos üë®‚Äçüíª Aqu√≠ encontrar√°s mi expediente acad√©mico en mis estudios del Grado en Ingenier√≠a de Software por la Universidad de Sevilla.',
    };
    return utils.getCommonMetas({
      metas,
    });
  },
};
</script>

<style lang="scss" scoped>

#curriculum {
  ::v-deep {
    .curriculum-section-title{
      font-size: 36px;
      margin-top: 20px;
      margin-bottom: 10px;
    }

    div[id^="curriculum-"] {
      &:not(:first-child) {
        margin-top: 50px;
      }
    }
  }
}
</style>
